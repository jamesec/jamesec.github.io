<!doctype html>
<meta charset="utf-8">

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='90' font-size='90'>ðŸ˜„</text></svg>">

<body contenteditable spellcheck="false"
      style="background:#121212;color:#dcdcdc;font:20px system-ui;padding:2em;outline:none;overflow:auto;">
</body>

<script>
  const STORAGE_KEY = "dark-editor-hybrid";

  // Focus editor, place cursor at end, and scroll into view
  document.body.focus();
  const sel = document.getSelection();
  sel.collapse(document.body, 1);
  document.body.scrollTop = document.body.scrollHeight;
      
  // Ctrl+S / Cmd+S export
  document.addEventListener("keydown", (e) => {
    if ((e.ctrlKey || e.metaKey) && e.key === "e") {
      e.preventDefault();
      const blob = new Blob([document.body.innerText], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "notes.txt";
      a.click();
      URL.revokeObjectURL(url);
    }
  });
</script>
